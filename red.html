<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å°ç´…å¸½ï¼šè³‡è¨ŠæŸ¥æ ¸æ¨¡æ“¬å™¨</title>
    <style>
        body { font-family: "Microsoft JhengHei", sans-serif; background-color: #ece5dd; display: flex; justify-content: center; height: 100vh; margin: 0; }
        .phone-frame { width: 100%; max-width: 400px; background: #fff; height: 100vh; display: flex; flex-direction: column; box-shadow: 0 0 20px rgba(0,0,0,0.1); }
        
        /* é ‚éƒ¨å°è¦½åˆ— */
        .chat-header { background-color: #2c3e50; color: white; padding: 15px; text-align: center; font-weight: bold; font-size: 1.1rem; }
        
        /* èŠå¤©å€åŸŸ */
        .chat-area { flex: 1; padding: 20px; overflow-y: auto; background-color: #7fb3d5; display: flex; flex-direction: column; gap: 15px; }
        
        .message { max-width: 80%; padding: 10px 15px; border-radius: 20px; font-size: 0.95rem; line-height: 1.4; position: relative; animation: popIn 0.3s ease; }
        .msg-left { align-self: flex-start; background-color: white; color: #333; border-bottom-left-radius: 5px; }
        .msg-right { align-self: flex-end; background-color: #95e1d3; color: #333; border-bottom-right-radius: 5px; }
        
        /* åº•éƒ¨é¸é …å€ */
        .controls { padding: 20px; background: white; border-top: 1px solid #ddd; }
        .btn-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 10px; }
        
        button { padding: 12px; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; transition: 0.2s; }
        .btn-ask { background-color: #3498db; color: white; }
        .btn-trust { background-color: #27ae60; color: white; width: 100%; }
        .btn-report { background-color: #c0392b; color: white; width: 100%; }
        button:disabled { background-color: #ccc; cursor: not-allowed; }

        /* çµæœè¦–çª— */
        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); align-items: center; justify-content: center; text-align: center; color: white; padding: 20px; box-sizing: border-box; }
        .modal.active { display: flex; }
        .metadata-box { background: rgba(255,255,255,0.1); border: 1px solid white; padding: 15px; margin-top: 20px; text-align: left; font-size: 0.9rem; }

        /* å›é¦–é æŒ‰éˆ• (æ‡¸æµ®æ–¼å³ä¸‹è§’) */
        .home-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            padding: 10px 20px;
            background-color: #2c3e50;
            color: white;
            text-decoration: none;
            border-radius: 30px;
            font-weight: bold;
            box-shadow: 0 4px 6px rgba(0,0,0,0.2);
            transition: all 0.3s;
            z-index: 100;
        }
        .home-btn:hover {
            background-color: #34495e;
            transform: translateY(-2px);
        }

        /* çµå±€ç•«é¢çš„æŒ‰éˆ•ç¾¤çµ„ */
        .modal-btn-group { margin-top: 20px; display: flex; gap: 10px; justify-content: center; }
        .modal-btn { padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer; font-size: 1rem; font-weight: bold; text-decoration: none; display: inline-block; }
        .modal-btn-retry { background: white; color: #333; }
        .modal-btn-home { background: #3498db; color: white; }

        @keyframes popIn { from { transform: scale(0.8); opacity: 0; } to { transform: scale(1); opacity: 1; } }
    </style>
</head>
<body>

<div class="phone-frame">
    <div class="chat-header">èˆ‡ "å¥¶å¥¶" çš„å°è©±</div>
    <div class="chat-area" id="chat-box">
        <div class="message msg-left">å°ç´…å¸½ï¼Œå¿«é€²ä¾†ï¼Œé–€æ²’é–...</div>
    </div>
    
    <div class="controls">
        <div class="btn-grid">
            <button class="btn-ask" onclick="ask('ears')" id="btn-ears">ğŸ” æª¢æŸ¥è€³æœµ</button>
            <button class="btn-ask" onclick="ask('eyes')" id="btn-eyes">ğŸ” æª¢æŸ¥çœ¼ç›</button>
            <button class="btn-ask" onclick="ask('teeth')" id="btn-teeth">ğŸ” æª¢æŸ¥ç‰™é½’</button>
            <button class="btn-ask" onclick="ask('voice')" id="btn-voice">ğŸ” æª¢æŸ¥è²éŸ³</button>
        </div>
        <div class="btn-grid">
            <button class="btn-trust" onclick="decide('trust')">ğŸ’– ç›¸ä¿¡ä¸¦é€²é–€</button>
            <button class="btn-report" onclick="decide('report')">ğŸš¨ æª¢èˆ‰å‡å¸³è™Ÿ (é€ƒè·‘)</button>
        </div>
    </div>
</div>

<a href="index.html" class="home-btn">ğŸ  å›é¦–é </a>

<div id="result-modal" class="modal">
    <div>
        <h1 id="res-title"></h1>
        <p id="res-desc" style="font-size: 1.2rem;"></p>
        <div class="metadata-box">
            <strong>ã€ç‰ˆæœ¬è€ƒè­‰ Metadataã€‘</strong><br>
            <span id="res-meta"></span>
        </div>
        
        <div class="modal-btn-group">
            <button onclick="location.reload()" class="modal-btn modal-btn-retry">é‡æ–°é€£ç·š</button>
            <a href="index.html" class="modal-btn modal-btn-home">å›é¦–é </a>
        </div>
    </div>
</div>

<script>
    const chatBox = document.getElementById('chat-box');
    let suspicionLevel = 0;

    const responses = {
        'ears': "å–”...é‚£æ˜¯ç‚ºäº†æ›´æ¸…æ¥šè½åˆ°å¦³çš„è²éŸ³å•Šï¼Œè¦ªæ„›çš„ã€‚",
        'eyes': "é‚£æ˜¯...ç‚ºäº†æ›´æ¸…æ¥šçœ‹åˆ°å¦³å¯æ„›çš„è‡‰é¾å•Šã€‚",
        'teeth': "é€™æ˜¯...ç‚ºäº†æ›´æ–¹ä¾¿æŠŠå¦³åƒæ‰ï¼ (å°æ–¹æ”¶å›äº†ä¸€å‰‡è¨Šæ¯)",
        'voice': "å’³å’³...å¥¶å¥¶åªæ˜¯æ„Ÿå†’äº†ï¼Œè²éŸ³æ‰é€™éº¼ä½æ²‰ã€‚"
    };

    function ask(type) {
        // 1. ç©å®¶ç™¼å•
        let questionText = "";
        if(type === 'ears') questionText = "å¥¶å¥¶ï¼Œå¦³çš„è€³æœµæ€éº¼é€™éº¼å¤§ï¼Ÿ";
        if(type === 'eyes') questionText = "å¥¶å¥¶ï¼Œå¦³çš„çœ¼ç›æ€éº¼é€™éº¼å¤§ï¼Ÿ";
        if(type === 'teeth') questionText = "å¥¶å¥¶ï¼Œå¦³çš„ç‰™é½’æ€éº¼é€™éº¼å°–ï¼Ÿ";
        if(type === 'voice') questionText = "å¥¶å¥¶ï¼Œå¦³çš„è²éŸ³è½èµ·ä¾†æ€ªæ€ªçš„ï¼Ÿ";

        addMessage(questionText, 'right');
        document.getElementById('btn-'+type).disabled = true; // ç¦ç”¨æŒ‰éˆ•

        // 2. ç³»çµ±å»¶é²å›è¦†
        setTimeout(() => {
            let reply = responses[type];
            if(type === 'teeth') {
                reply = "é‚£æ˜¯ç‚ºäº†...æ–¹ä¾¿åƒ...å–”ä¸ï¼Œæ˜¯ç‚ºäº†å’€åš¼ç¡¬çš„é£Ÿç‰©ï¼";
                suspicionLevel += 2;
            } else {
                suspicionLevel += 1;
            }
            addMessage(reply, 'left');
        }, 1000);
    }

    function addMessage(text, side) {
        const msgDiv = document.createElement('div');
        msgDiv.className = `message msg-${side}`;
        msgDiv.innerText = text;
        chatBox.appendChild(msgDiv);
        chatBox.scrollTop = chatBox.scrollHeight;
    }

    function decide(choice) {
        const modal = document.getElementById('result-modal');
        const title = document.getElementById('res-title');
        const desc = document.getElementById('res-desc');
        const meta = document.getElementById('res-meta');

        modal.classList.add('active');

        if (choice === 'trust') {
            // æ‚²åŠ‡ (ä½©ç¾…ç‰ˆ)
            title.innerText = "âŒ æŸ¥æ ¸å¤±æ•—ï¼šå¦³è¢«åƒæ‰äº†";
            desc.innerText = "å¦³ç›¸ä¿¡äº†éŒ¯èª¤çš„è³‡è¨Šä¾†æºï¼Œå¤§é‡ç‹¼æŠŠå¦³åé€²è‚šå­è£¡ã€‚";
            meta.innerHTML = "å‡ºè™•ï¼šCharles Perrault (1697)<br>èªªæ˜ï¼šæ—©æœŸçš„ç‰ˆæœ¬æ˜¯ç‚ºäº†è­¦ç¤ºå®®å»·å¥³æ€§å°å¿ƒé™Œç”Ÿç”·å­ï¼Œæ²’æœ‰çµäººï¼Œçµå±€æ˜¯ç´”ç²¹çš„æ‚²åŠ‡ã€‚";
        } else {
            // å–œåŠ‡ (æ ¼æ—ç‰ˆ/ç¾ä»£ç‰ˆ)
            title.innerText = "âœ… æŸ¥æ ¸æˆåŠŸï¼šæˆåŠŸé€ƒè„«";
            desc.innerText = "å¦³ç™¼ç¾å°æ–¹ç‰¹å¾µä¸ç¬¦ï¼Œæ‹’çµ•å­˜å–ä¸¦å°‹æ±‚çµäººå”åŠ©ã€‚";
            meta.innerHTML = "å‡ºè™•ï¼šGrimm Brothers (1812)<br>èªªæ˜ï¼šæ ¼æ—å…„å¼Ÿè’é›†çš„ç‰ˆæœ¬åŠ å…¥äº†ã€Œçµäººã€è§’è‰²ï¼Œè³¦äºˆæ•…äº‹æ•‘æ´èˆ‡é‡ç”Ÿçš„å¸Œæœ›ï¼Œç¬¦åˆç•¶æ™‚å¼·èª¿å®¶åº­èˆ‡ç§©åºçš„åƒ¹å€¼è§€ã€‚";
        }
    }
</script>
</body>
</html>
